(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{263:function(t,a,e){t.exports=e.p+"assets/img/game-view.901684af.png"},269:function(t,a,e){"use strict";e.r(a);var s=e(38),n=Object(s.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"game"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#game","aria-hidden":"true"}},[t._v("#")]),t._v(" Game")]),t._v(" "),s("h2",{attrs:{id:"il-gioco"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#il-gioco","aria-hidden":"true"}},[t._v("#")]),t._v(" Il Gioco")]),t._v(" "),s("p",[t._v("Prima di parlare delle classi che compongono questo modulo è arrivato finalmente il momento di discutere del gioco vero e proprio.")]),t._v(" "),s("p",[s("img",{attrs:{src:e(263),alt:"Immagine Gioco"}})]),t._v(" "),s("p",[t._v('Ci troviamo in questo "bellissimo" mondo notturno alla guida della nostra lamborghini, ed il nostro compito sarà quello di scovare fra gli alberi il cartello con la foto del ricercato (ovvero lo sviluppatore di questo software). Una volta trovato il cartello basterà passarci sopra con la vettura per vincere il gioco, e da quel momento in poi sarà possibile anche cambiare la scena da notte a giorno.')]),t._v(" "),s("p",[t._v("Come possiamo vedere dall'immagine abbiamo:")]),t._v(" "),s("ul",[s("li",[t._v("In alto a sinistra l'obbiettivo da raggiungere, mentre in basso abbiamo la velocità attuale della macchina.")]),t._v(" "),s("li",[t._v("In basso a destra è presente la scena vista dall'alto, possiamo quindi vederla come una piccola mappa.")])]),t._v(" "),s("p",[t._v("I comandi di gioco sono:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Comando")]),t._v(" "),s("th",[t._v("Tasto/i")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Bloccare il puntatore all'interno della finestra")]),t._v(" "),s("td",[t._v("0")])]),t._v(" "),s("tr",[s("td",[t._v("Cambiare la camera")]),t._v(" "),s("td",[t._v("1")])]),t._v(" "),s("tr",[s("td",[t._v("Cambiare fra vista solida e wireframe")]),t._v(" "),s("td",[t._v("2")])]),t._v(" "),s("tr",[s("td",[t._v("Attivare/Disattivare tutto il testo a schermo")]),t._v(" "),s("td",[t._v("3")])]),t._v(" "),s("tr",[s("td",[t._v("Attivare/Disattivare solamente le info e non la velocità")]),t._v(" "),s("td",[t._v("P")])]),t._v(" "),s("tr",[s("td",[t._v("Attivare/Disattivare la notte (solo una volta vinto)")]),t._v(" "),s("td",[t._v("N")])]),t._v(" "),s("tr",[s("td",[t._v("Attivare/Disattivare la minimappa")]),t._v(" "),s("td",[t._v("M")])]),t._v(" "),s("tr",[s("td",[t._v("Chiudere il gioco")]),t._v(" "),s("td",[t._v("ESC")])]),t._v(" "),s("tr",[s("td",[t._v("Muovere la camera libera")]),t._v(" "),s("td",[t._v("A S D W")])]),t._v(" "),s("tr",[s("td",[t._v("Routare la camera libera")]),t._v(" "),s("td",[t._v("movimento mouse")])]),t._v(" "),s("tr",[s("td",[t._v("Accendere/Spegnere le luci della macchina")]),t._v(" "),s("td",[t._v("U")])]),t._v(" "),s("tr",[s("td",[t._v("Muovere la macchina")]),t._v(" "),s("td",[t._v("J K L I")])])])]),t._v(" "),s("h2",{attrs:{id:"le-classi-del-modulo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#le-classi-del-modulo","aria-hidden":"true"}},[t._v("#")]),t._v(" Le classi del modulo")]),t._v(" "),s("h3",{attrs:{id:"car"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#car","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("Car")])]),t._v(" "),s("p",[t._v("Questa classe estende la classe "),s("code",[t._v("GameObject")]),t._v(" e ne estende il metodo "),s("code",[t._v("Update()")]),t._v(" in modo da effettuare tutti i calcoli per modificare la posizione della macchina, all'interno della scena, in base agli input dati dal giocatore (abbiamo preso spunto dal codice d'esempio visto a lezione). Dato che la macchina possiede anche delle luci anteriori all'interno della stessa funzione viene aggiornata anche la loro posizione.")]),t._v(" "),s("h3",{attrs:{id:"minimap"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#minimap","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("Minimap")])]),t._v(" "),s("p",[t._v("La minimappa rappresenta il mondo di gioco visto dall'alto. Per creare questo elemento della GUI è stato scelto di renderizzare la scena in un "),s("em",[t._v("Frame Buffer")]),t._v(" apposito, poi utilizzato come texture per un quad da posizionere in basso a destra.")]),t._v(" "),s("p",[t._v("La funzione che permette di creare il Frame Buffer e di conseguenza la minimap è la seguente:")]),t._v(" "),s("div",{staticClass:"language-cpp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-cpp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("bool")]),t._v(" Minimap"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("CreateMinimapTarget")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" window "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _game"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetWindow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" width "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetWidth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" _ratio"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("auto")]),t._v(" height "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetHeight")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" _ratio"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("glGenFramebuffers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("_framebuffer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("glBindFramebuffer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GL_FRAMEBUFFER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _framebuffer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    _texture "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" Graphics"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Texture")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    _texture"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("CreateForRendering")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("width"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" GL_RGB"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("glGenRenderbuffers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("_renderbuffer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("glBindRenderbuffer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GL_RENDERBUFFER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _renderbuffer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("glRenderbufferStorage")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GL_RENDERBUFFER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" GL_DEPTH24_STENCIL8"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" width"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("glFramebufferRenderbuffer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GL_FRAMEBUFFER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" GL_DEPTH_ATTACHMENT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                GL_RENDERBUFFER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _renderbuffer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("glCheckFramebufferStatus")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GL_FRAMEBUFFER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" GL_FRAMEBUFFER_COMPLETE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("glDeleteFramebuffers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("_framebuffer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        _texture"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Unload")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" _texture"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        _texture "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("nullptr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"menu"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#menu","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("Menu")])]),t._v(" "),s("p",[t._v("La classe in questione è quella che si occupa di disegnare a schermo sia il testo con la velocità della macchina che l'obbiettivo del gioco. Quest'ultimo verrà modificato nella scritta \"Hai Vinto\" in caso di vittoria. Per disegnare testo a schermo, la classe estende l'oggetto base "),s("code",[t._v("GuiComponent")]),t._v(" il quale mette a disposizione alcuni metodi per disegnare il testo su delle texture le quali verranno applicata ad un quad renderizzato sopra la scena 3D.")]),t._v(" "),s("h3",{attrs:{id:"staticobject"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#staticobject","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("StaticObject")])]),t._v(" "),s("p",[t._v("Questa classe viene utilizzate per gli oggetti statici come alberi, il cartello e i lampioni. Per questo motivo si tratta di una classe quasi vuota. L'unica differenza con la classe "),s("code",[t._v("GameObject")]),t._v(" dalla quale deriva è quella di passare lo shader al modello da disegnare (vedi metodo "),s("code",[t._v("Draw()")]),t._v(").")])])},[],!1,null,null,null);a.default=n.exports}}]);